/usr/bin/cmake -S/srv/code/bgfg -B/srv/code/bgfg/build --check-build-system CMakeFiles/Makefile.cmake 0
/usr/bin/cmake -E cmake_progress_start /srv/code/bgfg/build/CMakeFiles /srv/code/bgfg/build//CMakeFiles/progress.marks
make  -f CMakeFiles/Makefile2 all
make[1]: Entering directory '/srv/code/bgfg/build'
make  -f CMakeFiles/test.dir/build.make CMakeFiles/test.dir/depend
make[2]: Entering directory '/srv/code/bgfg/build'
cd /srv/code/bgfg/build && /usr/bin/cmake -E cmake_depends "Unix Makefiles" /srv/code/bgfg /srv/code/bgfg /srv/code/bgfg/build /srv/code/bgfg/build /srv/code/bgfg/build/CMakeFiles/test.dir/DependInfo.cmake --color=
Dependee "/srv/code/bgfg/build/CMakeFiles/test.dir/DependInfo.cmake" is newer than depender "/srv/code/bgfg/build/CMakeFiles/test.dir/depend.internal".
Dependee "/srv/code/bgfg/build/CMakeFiles/CMakeDirectoryInformation.cmake" is newer than depender "/srv/code/bgfg/build/CMakeFiles/test.dir/depend.internal".
Scanning dependencies of target test
make[2]: Leaving directory '/srv/code/bgfg/build'
make  -f CMakeFiles/test.dir/build.make CMakeFiles/test.dir/build
make[2]: Entering directory '/srv/code/bgfg/build'
[ 50%] Building CXX object CMakeFiles/test.dir/bgfg_gaussmix.cpp.o
/usr/local/bin/c++  -I/srv/code/bgfg -I/srv/code/bgfg/include/opencv4/opencv2  -o CMakeFiles/test.dir/bgfg_gaussmix.cpp.o -c /srv/code/bgfg/bgfg_gaussmix.cpp
/srv/code/bgfg/bgfg_gaussmix.cpp:73:1: error: expected class-name before '{' token
   73 | {
      | ^
/srv/code/bgfg/bgfg_gaussmix.cpp:105:24: error: 'InputArray' has not been declared
  105 |     virtual void apply(InputArray image, OutputArray fgmask, double learningRate=0) CV_OVERRIDE;
      |                        ^~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:105:42: error: 'OutputArray' has not been declared
  105 |     virtual void apply(InputArray image, OutputArray fgmask, double learningRate=0) CV_OVERRIDE;
      |                                          ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:105:83: error: expected ';' at end of member declaration
  105 |     virtual void apply(InputArray image, OutputArray fgmask, double learningRate=0) CV_OVERRIDE;
      |                                                                                   ^
      |                                                                                    ;
/srv/code/bgfg/bgfg_gaussmix.cpp:105:85: error: 'CV_OVERRIDE' does not name a type
  105 |     virtual void apply(InputArray image, OutputArray fgmask, double learningRate=0) CV_OVERRIDE;
      |                                                                                     ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:108:29: error: 'Size' has not been declared
  108 |     virtual void initialize(Size _frameSize, int _frameType)
      |                             ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:125:37: error: 'OutputArray' has not been declared
  125 |     virtual void getBackgroundImage(OutputArray) const CV_OVERRIDE
      |                                     ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:125:50: error: expected ';' at end of member declaration
  125 |     virtual void getBackgroundImage(OutputArray) const CV_OVERRIDE
      |                                                  ^~~~~
      |                                                       ;
/srv/code/bgfg/bgfg_gaussmix.cpp:125:56: error: 'CV_OVERRIDE' does not name a type
  125 |     virtual void getBackgroundImage(OutputArray) const CV_OVERRIDE
      |                                                        ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:130:30: error: expected ';' at end of member declaration
  130 |     virtual int getHistory() const CV_OVERRIDE { return history; }
      |                              ^~~~~
      |                                   ;
/srv/code/bgfg/bgfg_gaussmix.cpp:130:36: error: 'CV_OVERRIDE' does not name a type
  130 |     virtual int getHistory() const CV_OVERRIDE { return history; }
      |                                    ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:131:41: error: expected ';' at end of member declaration
  131 |     virtual void setHistory(int _nframes) CV_OVERRIDE { history = _nframes; }
      |                                         ^
      |                                          ;
/srv/code/bgfg/bgfg_gaussmix.cpp:131:43: error: 'CV_OVERRIDE' does not name a type
  131 |     virtual void setHistory(int _nframes) CV_OVERRIDE { history = _nframes; }
      |                                           ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:133:32: error: expected ';' at end of member declaration
  133 |     virtual int getNMixtures() const CV_OVERRIDE { return nmixtures; }
      |                                ^~~~~
      |                                     ;
/srv/code/bgfg/bgfg_gaussmix.cpp:133:38: error: 'CV_OVERRIDE' does not name a type
  133 |     virtual int getNMixtures() const CV_OVERRIDE { return nmixtures; }
      |                                      ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:134:39: error: expected ';' at end of member declaration
  134 |     virtual void setNMixtures(int nmix) CV_OVERRIDE { nmixtures = nmix; }
      |                                       ^
      |                                        ;
/srv/code/bgfg/bgfg_gaussmix.cpp:134:41: error: 'CV_OVERRIDE' does not name a type
  134 |     virtual void setNMixtures(int nmix) CV_OVERRIDE { nmixtures = nmix; }
      |                                         ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:136:41: error: expected ';' at end of member declaration
  136 |     virtual double getBackgroundRatio() const CV_OVERRIDE { return backgroundRatio; }
      |                                         ^~~~~
      |                                              ;
/srv/code/bgfg/bgfg_gaussmix.cpp:136:47: error: 'CV_OVERRIDE' does not name a type
  136 |     virtual double getBackgroundRatio() const CV_OVERRIDE { return backgroundRatio; }
      |                                               ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:137:60: error: expected ';' at end of member declaration
  137 |     virtual void setBackgroundRatio(double _backgroundRatio) CV_OVERRIDE { backgroundRatio = _backgroundRatio; }
      |                                                            ^
      |                                                             ;
/srv/code/bgfg/bgfg_gaussmix.cpp:137:62: error: 'CV_OVERRIDE' does not name a type
  137 |     virtual void setBackgroundRatio(double _backgroundRatio) CV_OVERRIDE { backgroundRatio = _backgroundRatio; }
      |                                                              ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:139:36: error: expected ';' at end of member declaration
  139 |     virtual double getNoiseSigma() const CV_OVERRIDE { return noiseSigma; }
      |                                    ^~~~~
      |                                         ;
/srv/code/bgfg/bgfg_gaussmix.cpp:139:42: error: 'CV_OVERRIDE' does not name a type
  139 |     virtual double getNoiseSigma() const CV_OVERRIDE { return noiseSigma; }
      |                                          ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:140:50: error: expected ';' at end of member declaration
  140 |     virtual void setNoiseSigma(double _noiseSigma) CV_OVERRIDE { noiseSigma = _noiseSigma; }
      |                                                  ^
      |                                                   ;
/srv/code/bgfg/bgfg_gaussmix.cpp:140:52: error: 'CV_OVERRIDE' does not name a type
  140 |     virtual void setNoiseSigma(double _noiseSigma) CV_OVERRIDE { noiseSigma = _noiseSigma; }
      |                                                    ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:142:24: error: 'FileStorage' has not been declared
  142 |     virtual void write(FileStorage& fs) const CV_OVERRIDE
      |                        ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:142:41: error: expected ';' at end of member declaration
  142 |     virtual void write(FileStorage& fs) const CV_OVERRIDE
      |                                         ^~~~~
      |                                              ;
/srv/code/bgfg/bgfg_gaussmix.cpp:142:47: error: 'CV_OVERRIDE' does not name a type
  142 |     virtual void write(FileStorage& fs) const CV_OVERRIDE
      |                                               ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:151:29: error: 'FileNode' does not name a type
  151 |     virtual void read(const FileNode& fn) CV_OVERRIDE
      |                             ^~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:151:41: error: expected ';' at end of member declaration
  151 |     virtual void read(const FileNode& fn) CV_OVERRIDE
      |                                         ^
      |                                          ;
/srv/code/bgfg/bgfg_gaussmix.cpp:151:43: error: 'CV_OVERRIDE' does not name a type
  151 |     virtual void read(const FileNode& fn) CV_OVERRIDE
      |                                           ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:161:5: error: 'Size' does not name a type
  161 |     Size frameSize;
      |     ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:163:5: error: 'Mat' does not name a type
  163 |     Mat bgmodel;
      |     ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:170:5: error: 'String' does not name a type
  170 |     String name_;
      |     ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp: In constructor 'cv::bgsegm::BackgroundSubtractorMOGImpl::BackgroundSubtractorMOGImpl()':
/srv/code/bgfg/bgfg_gaussmix.cpp:78:9: error: 'frameSize' was not declared in this scope; did you mean 'frameType'?
   78 |         frameSize = Size(0,0);
      |         ^~~~~~~~~
      |         frameType
/srv/code/bgfg/bgfg_gaussmix.cpp:78:21: error: 'Size' was not declared in this scope
   78 |         frameSize = Size(0,0);
      |                     ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:87:9: error: 'name_' was not declared in this scope; did you mean 'nframes'?
   87 |         name_ = "BackgroundSubtractor.MOG";
      |         ^~~~~
      |         nframes
/srv/code/bgfg/bgfg_gaussmix.cpp: In constructor 'cv::bgsegm::BackgroundSubtractorMOGImpl::BackgroundSubtractorMOGImpl(int, int, double, double)':
/srv/code/bgfg/bgfg_gaussmix.cpp:93:9: error: 'frameSize' was not declared in this scope; did you mean 'frameType'?
   93 |         frameSize = Size(0,0);
      |         ^~~~~~~~~
      |         frameType
/srv/code/bgfg/bgfg_gaussmix.cpp:93:21: error: 'Size' was not declared in this scope
   93 |         frameSize = Size(0,0);
      |                     ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:97:26: error: 'min' is not a member of 'std'
   97 |         nmixtures = std::min(_nmixtures > 0 ? _nmixtures : defaultNMixtures, 8);
      |                          ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:100:32: error: 'min' is not a member of 'std'
  100 |         backgroundRatio = std::min(_backgroundRatio > 0 ? _backgroundRatio : 0.95, 1.);
      |                                ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp: In member function 'virtual void cv::bgsegm::BackgroundSubtractorMOGImpl::initialize(int, int)':
/srv/code/bgfg/bgfg_gaussmix.cpp:110:9: error: 'frameSize' was not declared in this scope; did you mean '_frameSize'?
  110 |         frameSize = _frameSize;
      |         ^~~~~~~~~
      |         _frameSize
/srv/code/bgfg/bgfg_gaussmix.cpp:114:25: error: 'CV_MAT_CN' was not declared in this scope
  114 |         int nchannels = CV_MAT_CN(frameType);
      |                         ^~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:115:20: error: 'CV_MAT_DEPTH' was not declared in this scope
  115 |         CV_Assert( CV_MAT_DEPTH(frameType) == CV_8U );
      |                    ^~~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:115:47: error: 'CV_8U' was not declared in this scope
  115 |         CV_Assert( CV_MAT_DEPTH(frameType) == CV_8U );
      |                                               ^~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:115:9: error: 'CV_Assert' was not declared in this scope
  115 |         CV_Assert( CV_MAT_DEPTH(frameType) == CV_8U );
      |         ^~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:121:9: error: 'bgmodel' was not declared in this scope
  121 |         bgmodel.create( 1, frameSize.height*frameSize.width*nmixtures*(2 + 2*nchannels), CV_32F );
      |         ^~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:121:90: error: 'CV_32F' was not declared in this scope
  121 |         bgmodel.create( 1, frameSize.height*frameSize.width*nmixtures*(2 + 2*nchannels), CV_32F );
      |                                                                                          ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:122:19: error: 'Scalar' has not been declared
  122 |         bgmodel = Scalar::all(0);
      |                   ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp: At global scope:
/srv/code/bgfg/bgfg_gaussmix.cpp:183:32: error: 'Mat' does not name a type
  183 | static void process8uC1( const Mat& image, Mat& fgmask, double learningRate,
      |                                ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:183:44: error: 'Mat' has not been declared
  183 | static void process8uC1( const Mat& image, Mat& fgmask, double learningRate,
      |                                            ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:184:26: error: 'Mat' has not been declared
  184 |                          Mat& bgmodel, int nmixtures, double backgroundRatio,
      |                          ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp: In function 'void cv::bgsegm::process8uC1(const int&, int&, double, int&, int, double, double, double)':
/srv/code/bgfg/bgfg_gaussmix.cpp:187:35: error: request for member 'rows' in 'image', which is of non-class type 'const int'
  187 |     int x, y, k, k1, rows = image.rows, cols = image.cols;
      |                                   ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:190:53: error: request for member 'data' in 'bgmodel', which is of non-class type 'int'
  190 |     MixData<float>* mptr = (MixData<float>*)bgmodel.data;
      |                                                     ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:199:15: error: 'uchar' does not name a type; did you mean 'char'?
  199 |         const uchar* src = image.ptr<uchar>(y);
      |               ^~~~~
      |               char
/srv/code/bgfg/bgfg_gaussmix.cpp:200:9: error: 'uchar' was not declared in this scope; did you mean 'char'?
  200 |         uchar* dst = fgmask.ptr<uchar>(y);
      |         ^~~~~
      |         char
/srv/code/bgfg/bgfg_gaussmix.cpp:200:16: error: 'dst' was not declared in this scope
  200 |         uchar* dst = fgmask.ptr<uchar>(y);
      |                ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:200:29: error: request for member 'ptr' in 'fgmask', which is of non-class type 'int'
  200 |         uchar* dst = fgmask.ptr<uchar>(y);
      |                             ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:204:29: error: 'cols' was not declared in this scope
  204 |             for( x = 0; x < cols; x++, mptr += K )
      |                             ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:207:29: error: 'src' was not declared in this scope
  207 |                 float pix = src[x];
      |                             ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:226:36: error: 'max' is not a member of 'std'
  226 |                         var = std::max(var + alpha*(d2 - var), minVar);
      |                                    ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:228:50: error: 'sqrt' is not a member of 'std'
  228 |                         mptr[k].sortKey = w/std::sqrt(var);
      |                                                  ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:234:34: error: 'swap' is not a member of 'std'
  234 |                             std::swap( mptr[k1], mptr[k1+1] );
      |                                  ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:244:37: error: 'min' is not a member of 'std'
  244 |                     kHit = k = std::min(k, K-1);
      |                                     ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:270:29: error: 'cols' was not declared in this scope
  270 |             for( x = 0; x < cols; x++, mptr += K )
      |                             ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:272:29: error: 'src' was not declared in this scope
  272 |                 float pix = src[x];
      |                             ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp: At global scope:
/srv/code/bgfg/bgfg_gaussmix.cpp:311:32: error: 'Mat' does not name a type
  311 | static void process8uC3( const Mat& image, Mat& fgmask, double learningRate,
      |                                ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:311:44: error: 'Mat' has not been declared
  311 | static void process8uC3( const Mat& image, Mat& fgmask, double learningRate,
      |                                            ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:312:26: error: 'Mat' has not been declared
  312 |                          Mat& bgmodel, int nmixtures, double backgroundRatio,
      |                          ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp: In function 'void cv::bgsegm::process8uC3(const int&, int&, double, int&, int, double, double, double)':
/srv/code/bgfg/bgfg_gaussmix.cpp:315:35: error: request for member 'rows' in 'image', which is of non-class type 'const int'
  315 |     int x, y, k, k1, rows = image.rows, cols = image.cols;
      |                                   ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:320:60: error: 'sqrt' is not a member of 'std'
  320 |     const float sk0 = (float)(w0/(defaultNoiseSigma*2*std::sqrt(3.)));
      |                                                            ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:323:13: error: 'Vec3f' was not declared in this scope
  323 |     MixData<Vec3f>* mptr = (MixData<Vec3f>*)bgmodel.data;
      |             ^~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:323:18: error: template argument 1 is invalid
  323 |     MixData<Vec3f>* mptr = (MixData<Vec3f>*)bgmodel.data;
      |                  ^
/srv/code/bgfg/bgfg_gaussmix.cpp:323:44: error: expected primary-expression before ')' token
  323 |     MixData<Vec3f>* mptr = (MixData<Vec3f>*)bgmodel.data;
      |                                            ^
/srv/code/bgfg/bgfg_gaussmix.cpp:327:15: error: 'uchar' does not name a type; did you mean 'char'?
  327 |         const uchar* src = image.ptr<uchar>(y);
      |               ^~~~~
      |               char
/srv/code/bgfg/bgfg_gaussmix.cpp:328:9: error: 'uchar' was not declared in this scope; did you mean 'char'?
  328 |         uchar* dst = fgmask.ptr<uchar>(y);
      |         ^~~~~
      |         char
/srv/code/bgfg/bgfg_gaussmix.cpp:328:16: error: 'dst' was not declared in this scope
  328 |         uchar* dst = fgmask.ptr<uchar>(y);
      |                ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:328:29: error: request for member 'ptr' in 'fgmask', which is of non-class type 'int'
  328 |         uchar* dst = fgmask.ptr<uchar>(y);
      |                             ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:332:29: error: 'cols' was not declared in this scope
  332 |             for( x = 0; x < cols; x++, mptr += K )
      |                             ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:335:22: error: expected ';' before 'pix'
  335 |                 Vec3f pix(src[x*3], src[x*3+1], src[x*3+2]);
      |                      ^~~~
      |                      ;
/srv/code/bgfg/bgfg_gaussmix.cpp:340:39: error: request for member 'weight' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  340 |                     float w = mptr[k].weight;
      |                                       ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:344:26: error: expected ';' before 'mu'
  344 |                     Vec3f mu = mptr[k].mean;
      |                          ^~~
      |                          ;
/srv/code/bgfg/bgfg_gaussmix.cpp:345:26: error: expected ';' before 'var'
  345 |                     Vec3f var = mptr[k].var;
      |                          ^~~~
      |                          ;
/srv/code/bgfg/bgfg_gaussmix.cpp:346:26: error: expected ';' before 'diff'
  346 |                     Vec3f diff = pix - mu;
      |                          ^~~~~
      |                          ;
/srv/code/bgfg/bgfg_gaussmix.cpp:347:32: error: 'diff' was not declared in this scope
  347 |                     float d2 = diff.dot(diff);
      |                                ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:348:34: error: 'var' was not declared in this scope; did you mean 'var0'?
  348 |                     if( d2 < vT*(var[0] + var[1] + var[2]) )
      |                                  ^~~
      |                                  var0
/srv/code/bgfg/bgfg_gaussmix.cpp:352:33: error: request for member 'weight' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  352 |                         mptr[k].weight = w + dw;
      |                                 ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:353:33: error: request for member 'mean' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  353 |                         mptr[k].mean = mu + alpha*diff;
      |                                 ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:353:40: error: 'mu' was not declared in this scope
  353 |                         mptr[k].mean = mu + alpha*diff;
      |                                        ^~
/srv/code/bgfg/bgfg_gaussmix.cpp:354:42: error: 'max' is not a member of 'std'
  354 |                         var = Vec3f(std::max(var[0] + alpha*(diff[0]*diff[0] - var[0]), minVar),
      |                                          ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:355:42: error: 'max' is not a member of 'std'
  355 |                                     std::max(var[1] + alpha*(diff[1]*diff[1] - var[1]), minVar),
      |                                          ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:356:42: error: 'max' is not a member of 'std'
  356 |                                     std::max(var[2] + alpha*(diff[2]*diff[2] - var[2]), minVar));
      |                                          ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:357:33: error: request for member 'var' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  357 |                         mptr[k].var = var;
      |                                 ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:358:33: error: request for member 'sortKey' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  358 |                         mptr[k].sortKey = w/std::sqrt(var[0] + var[1] + var[2]);
      |                                 ^~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:358:50: error: 'sqrt' is not a member of 'std'
  358 |                         mptr[k].sortKey = w/std::sqrt(var[0] + var[1] + var[2]);
      |                                                  ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:362:42: error: request for member 'sortKey' in '*(mptr + ((sizetype)(((long unsigned int)k1) * 4)))', which is of non-class type 'int'
  362 |                             if( mptr[k1].sortKey >= mptr[k1+1].sortKey )
      |                                          ^~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:362:64: error: request for member 'sortKey' in '*(mptr + ((((sizetype)k1) + 1) * 4))', which is of non-class type 'int'
  362 |                             if( mptr[k1].sortKey >= mptr[k1+1].sortKey )
      |                                                                ^~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:364:34: error: 'swap' is not a member of 'std'
  364 |                             std::swap( mptr[k1], mptr[k1+1] );
      |                                  ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:374:37: error: 'min' is not a member of 'std'
  374 |                     kHit = k = std::min(k, K-1);
      |                                     ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:375:42: error: request for member 'weight' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  375 |                     wsum += w0 - mptr[k].weight;
      |                                          ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:376:29: error: request for member 'weight' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  376 |                     mptr[k].weight = w0;
      |                             ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:377:29: error: request for member 'mean' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  377 |                     mptr[k].mean = pix;
      |                             ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:377:36: error: 'pix' was not declared in this scope
  377 |                     mptr[k].mean = pix;
      |                                    ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:378:29: error: request for member 'var' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  378 |                     mptr[k].var = Vec3f(var0, var0, var0);
      |                             ^~~
/srv/code/bgfg/bgfg_gaussmix.cpp:379:29: error: request for member 'sortKey' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  379 |                     mptr[k].sortKey = sk0;
      |                             ^~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:383:41: error: request for member 'weight' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  383 |                         wsum += mptr[k].weight;
      |                                         ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:389:37: error: request for member 'weight' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  389 |                     wsum += mptr[k].weight *= wscale;
      |                                     ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:390:29: error: request for member 'sortKey' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  390 |                     mptr[k].sortKey *= wscale;
      |                             ^~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:400:29: error: 'cols' was not declared in this scope
  400 |             for( x = 0; x < cols; x++, mptr += K )
      |                             ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:402:22: error: expected ';' before 'pix'
  402 |                 Vec3f pix(src[x*3], src[x*3+1], src[x*3+2]);
      |                      ^~~~
      |                      ;
/srv/code/bgfg/bgfg_gaussmix.cpp:407:33: error: request for member 'weight' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  407 |                     if( mptr[k].weight < FLT_EPSILON )
      |                                 ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:409:26: error: expected ';' before 'mu'
  409 |                     Vec3f mu = mptr[k].mean;
      |                          ^~~
      |                          ;
/srv/code/bgfg/bgfg_gaussmix.cpp:410:26: error: expected ';' before 'var'
  410 |                     Vec3f var = mptr[k].var;
      |                          ^~~~
      |                          ;
/srv/code/bgfg/bgfg_gaussmix.cpp:411:26: error: expected ';' before 'diff'
  411 |                     Vec3f diff = pix - mu;
      |                          ^~~~~
      |                          ;
/srv/code/bgfg/bgfg_gaussmix.cpp:412:32: error: 'diff' was not declared in this scope
  412 |                     float d2 = diff.dot(diff);
      |                                ^~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:413:34: error: 'var' was not declared in this scope; did you mean 'var0'?
  413 |                     if( d2 < vT*(var[0] + var[1] + var[2]) )
      |                                  ^~~
      |                                  var0
/srv/code/bgfg/bgfg_gaussmix.cpp:425:41: error: request for member 'weight' in '*(mptr + ((sizetype)(((long unsigned int)k) * 4)))', which is of non-class type 'int'
  425 |                         wsum += mptr[k].weight;
      |                                         ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp: At global scope:
/srv/code/bgfg/bgfg_gaussmix.cpp:440:6: error: variable or field 'apply' declared void
  440 | void BackgroundSubtractorMOGImpl::apply(InputArray _image, OutputArray _fgmask, double learningRate)
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:440:41: error: 'InputArray' was not declared in this scope
  440 | void BackgroundSubtractorMOGImpl::apply(InputArray _image, OutputArray _fgmask, double learningRate)
      |                                         ^~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:440:60: error: 'OutputArray' was not declared in this scope
  440 | void BackgroundSubtractorMOGImpl::apply(InputArray _image, OutputArray _fgmask, double learningRate)
      |                                                            ^~~~~~~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:440:81: error: expected primary-expression before 'double'
  440 | void BackgroundSubtractorMOGImpl::apply(InputArray _image, OutputArray _fgmask, double learningRate)
      |                                                                                 ^~~~~~
/srv/code/bgfg/bgfg_gaussmix.cpp:464:1: error: 'Ptr' does not name a type
  464 | Ptr<BackgroundSubtractorMOG> createBackgroundSubtractorMOG(int history, int nmixtures,
      | ^~~
make[2]: *** [CMakeFiles/test.dir/build.make:82: CMakeFiles/test.dir/bgfg_gaussmix.cpp.o] Error 1
make[2]: Leaving directory '/srv/code/bgfg/build'
make[1]: *** [CMakeFiles/Makefile2:95: CMakeFiles/test.dir/all] Error 2
make[1]: Leaving directory '/srv/code/bgfg/build'
make: *** [Makefile:103: all] Error 2
